
<!-- begin page-header -->
<!-- end page-header -->
<!-- begin panel -->
<hr>
<div class="title-btn-group">
  <h4 class="text-inverse pull-left">Shipments</h4>
  <span class="pull-right">
    <%= link_to 'New Shipment', (params[:controller] == 'master_invoices' ? new_shipment_path(:header => master_invoice.id) : new_shipment_path), :class => 'btn btn-primary btn-xs' %>
    </div>
    <h4 class="panel-title">Shipments</h4>
  </div>
  <div class="panel-body">
    <table id="data-table-buttons" class="table table-striped table-bordered data-table-buttons">
    								<thead>
    									<tr class="odd gradeX">
                        <th class="text-nowrap">Status</th>
                        <th class="text-nowrap">Tracking #</th>
                        <th class="text-nowrap">Origin</th>
                        <th class="text-nowrap">Destination</th>
                        <th class="text-nowrap">Weight</th>
                        <th class="text-nowrap">Total Charge with Tax</th>
                        <th class="text-nowrap">Cost Per LB</th>
                        <th class="text-nowrap">Carrier</th>
										    <th class="text-nowrap" data-orderable="false">Actions</th>
    									</tr>
    								</thead>
                    <tbody>
                      <% shipments.each do |shipment| %>
                      <tr>
                        <td><%= shipment.shipment_status %></td>
                        <td><%= shipment.tracking_number %></td>
                        <td><%= shipment.origin_location.nil? ? "" : location_format(shipment.origin_location) %></td>
                        <td><%= shipment.destination_location.nil? ? "" : location_format(shipment.destination_location) %></td>
                        <td><%= shipment.billed_weight.nil? ? 0 : shipment.billed_weight %> <%= (shipment.unit_of_weight.nil? || shipment.unit_of_weight == '') ? '' : shipment.unit_of_weight %></td>
                        <td><%= get_currency(shipment.money_currency) %> <%= shipment.total_charge_with_tax.nil? ? 0 : shipment.total_charge_with_tax %></td>
                        <td><%= get_currency(shipment.money_currency) %> <%= number_with_precision ((shipment.total_charge.nil? ? 0 : shipment.total_charge) / shipment.convert_to_lb), :precision => 2 %></td>
                        <td><%= shipment.invoice.nil? ? '' : (shipment.invoice.carrier.nil? ? '' : shipment.invoice.carrier.company_name) %></td>
                        <td>
                          <%= link_to '<i class="far fa-eye"></i>'.html_safe, shipment, :class => 'btn btn-info btn-xs' %>
                          <%= link_to '<i class="far fa-edit"></i>'.html_safe, edit_shipment_path(shipment), :class => 'btn btn-warning btn-xs' %>
                          <%= link_to '<i class="fas fa-trash-alt"></i>'.html_safe, shipment, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-danger btn-xs'%>
                        </td>
                      <% end %>
                    </tbody>
                  </table>
  </div>
