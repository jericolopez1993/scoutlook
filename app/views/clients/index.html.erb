<!-- begin page-header -->
<%= render 'layouts/static/header', header_title: 'Clients', sub_header_title: 'Create/Edit/View'%>
<!-- end page-header -->
<!-- begin panel -->
<div class="panel panel-inverse">
  <div class="panel-heading">
    <div class="panel-heading-btn">
    <%= link_to 'New Client', new_client_path, :class => 'btn btn-primary btn-xs' %>
    </div>
    <h4 class="panel-title">List of Clients</h4>
  </div>
  <div class="panel-body">
    <table id="data-table-buttons" class="table table-striped table-bordered data-table-buttons">
    								<thead>
    									<tr class="odd gradeX">
    										<th width="1%">#</th>
    										<th class="text-nowrap">Company Name</th>
    										<th class="text-nowrap">Type</th>
    										<th class="text-nowrap">Head Office</th>
    										<th class="text-nowrap">Origin</th>
    										<th class="text-nowrap">Destination</th>
										    <th class="text-nowrap" data-orderable="false">Actions</th>
    									</tr>
    								</thead>
    								<tbody>
                      <% @clients.each do |client| %>
                        <tr>
                          <td><%= generate_alphanumeric_id(client.client_type, client.id) %></td>
                          <td><%= client.company_name %></td>
                          <td><%= client.client_type %></td>
                          <td><%= client.origin_location.nil? ? '' : (client.origin_location.location.nil? ? '' : "#{client.origin_location.location.state}, #{client.origin_location.location.country}") %></td>
                          <td><%= client.destination_location.nil? ? '' : (client.destination_location.location.nil? ? '' : "#{client.destination_location.location.state}, #{client.destination_location.location.country}") %></td>
                          <td><%= client.head_office_location.nil? ? '' : (client.head_office_location.location.nil? ? '' : "#{client.head_office_location.location.state}, #{client.head_office_location.location.country}") %></td>
                          <td>
                            <%= link_to '<i class="far fa-eye"></i>'.html_safe, client, :class => 'btn btn-info btn-xs' %>
                            <%= link_to '<i class="far fa-edit"></i>'.html_safe, edit_client_path(client), :class => 'btn btn-warning btn-xs' %>
                            <%= link_to '<i class="fas fa-trash-alt"></i>'.html_safe, client, method: :delete, data: { confirm: 'Are you sure?' }, :class => 'btn btn-danger btn-xs'%>
                          </td>
                        </tr>
                      <% end %>

                    </tbody>
                  </table>
  </div>
</div>
<!-- end panel -->
